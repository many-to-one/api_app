{% extends 'base.html' %}
{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

{% block content %}
<body>
    
    {% if addresses %}
        {% for address in addresses %}
            <form method="post" id="allAddresses" action="{% url 'edit_address' name %}">
                {% csrf_token %}

                <label for="name">Imię:</label>
                <input type="text" name="firstName" value="{{ address.firstName }}">
                <label for="name">Nazwisko:</label>
                <input type="text" name="lastName" value="{{ address.lastName }}">
                <label for="company">Firma:</label>
                <input type="text" name="company" value="{{ address.company }}">
                <label for="street">Ulica:</label>
                <input type="text" name="street" value="{{ address.street }}">
                <label for="streetNumber">Numer domu:</label>
                <input type="text" name="streetNumber" value="{{ address.streetNumber }}">
                <label for="postalCode">Kod pocztowy:</label>
                <input type="text" name="postalCode" value="{{ address.postalCode }}">
                <label for="city">Miasto:</label>
                <input type="text" name="city" value="{{ address.city }}">
                <label for="email">Email:</label>
                <input type="email" name="email" value="{{ address.email }}">
                <label for="email">Telefon:</label>
                <input type="text" name="phone" value="{{ address.phone }}">
                <br>
                <button type="submit">Zapisz</button>

            </form>
        {% endfor %}
    {% else %}
        <div id="allAddresses">
            <button onclick="addAddress()">Dodaj</button>
        </div>
    {% endif %}

    <form method="post" id="addressForm" action="{% url 'add_address' name %}">
        {% csrf_token %}
            <label for="name">Imię:</label>
            <input type="text" id="firstName" name="firstName" required><br><br>

            <label for="name">Nazwisko:</label>
            <input type="text" id="name" name="lastName" required><br><br>

            <label for="company">Firma:</label>
            <input type="text" id="company" name="company"><br><br>

            <label for="street">Ulica:</label>
            <input type="text" id="street" name="street" value="Główna" required><br><br>

            <label for="streetNumber">Numer domu:</label>
            <input type="text" id="streetNumber" name="streetNumber" value="30" required><br><br>

            <label for="postalCode">Kod pocztowy:</label>
            <input type="text" id="postalCode" name="postalCode" value="64-700" required><br><br>

            <label for="city">Miasto:</label>
            <input type="text" id="city" name="city" value="Warszawa" required><br><br>

            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required><br><br>

            <label for="phone">Telefon:</label>
            <input type="tel" id="phone" name="phone" required><br><br>

            <button type="submit">Dodaj</button>
    </form>

    




    <script>
        var addressForm = document.getElementById('addressForm');
        var allAddresses = document.getElementById('allAddresses');

        function addAddress(){
            console.log('addAddress clicked')
            allAddresses.style.display = 'none'
            addressForm.style.display = 'flex';
        }
    </script>

    <script>
        function saveAddress() {

        }
    </script>
    
</body>
{% endblock %}
</html>